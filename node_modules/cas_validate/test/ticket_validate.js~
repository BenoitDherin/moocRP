/*global before */
// this test makes sure that various broken tickets don't work

/* global require console process describe it */

var should = require('should')

var ticket = require('../lib/ticket')
var request = require('request')
var connect = require('connect')

describe('ticket',function(){

    before(
        function(done){
            var app = connect()
                      .use(ticket({'cas_host':chost
                                  ,'service':'http://'+testhost+':'+testport})
                  .use(cas_validate.redirect({'cas_host':chost
                                             ,'service':'http://'+ testhost +':'+testport+'/index.html'})
                      )
                  .use(function(req, res, next){
                      should.not.exist(req)
                      res.end('hello world')
                  });
            server = app.listen(testport,done)
        })
    after(function(done){
        server.close(done)
    })


    it('should rebuff a giant ticket',function(done){

    })
})