\SYNBOL{}\SYN[Identifier]{function} ticket_check\SYN[javaScriptParens]{(}req,res,next\SYN[javaScriptParens]{)}\SYN[Identifier]{\{}\SYNEOL{}
\SYNBOL{}    ...\SYNEOL{}
\SYNBOL{}    \SYN[Identifier]{var} ticket = url.query.ticket;\SYNEOL{}
\SYNBOL{}    \SYN[Identifier]{var} service = opt_service ?\SYNEOL{}
\SYNBOL{}        opt_service : determine_service\SYN[javaScriptParens]{(}req\SYN[javaScriptParens]{)}\SYNEOL{}
\SYNBOL{}    \SYN[Identifier]{var} cas_uri =\SYNEOL{}
\SYNBOL{}       cas_host+validation_service +\SYN[Constant]{'?'}\SYNEOL{}
\SYNBOL{}       +querystring.stringify\SYN[javaScriptParens]{(}\SYN[Identifier]{\{}\SYN[Constant]{'service'}:service,\SYNEOL{}
\SYNBOL{}                               \SYN[Constant]{'ticket'}:ticket\SYN[Identifier]{\}}\SYN[javaScriptParens]{)};\SYNEOL{}
\SYNBOL{}    request\SYN[javaScriptParens]{(}\SYN[Identifier]{\{}uri:cas_uri\SYN[Identifier]{\}}, callback\SYN[javaScriptParens]{)};\SYNEOL{}
\SYNBOL{}    \SYN[Statement]{return} \SYN[Statement]{null};\SYNEOL{}
\SYNBOL{}\SYN[Identifier]{\}}\SYN[javaScriptParens]{)};\SYNEOL{}
